---
title: Math 437 Final Project
---

My project is geared towards answering the following question: to what extent does the mental well-being of students in the United States affect their academic performance? [*insert joke about how everyone is smart here*]

```{r}
#| label: import data in this chunk
library(readxl)

test_scores <- read_excel(here::here("Data/standardized_test_scores.xlsx"))
sad_percent <- read_excel(here::here("Data/felt_sad_2021.xlsx"))

# "SAT" and "ACT" refer to the average scores of the respective test for each state. 
# "Sadness" refers to the percentage of high schoolers who reported feeling sad or hopeless.
```

Data sources: 
For the mental health: [[https://www.cdc.gov/yrbs/results/index.html]]
For scores: [[https://nces.ed.gov/programs/digest/d21/tables/dt21_226.40.asp]]

The first and most obvious limitation of the data is its limited scope in terms of time. Finding thorough data for both student's mental well-being and their test scores was difficult, and 2021 was the most recent year where reliable data could be found for both. Any conclusions found while analyzing this data cannot and should not be applied to different points in time. In particular, the COVID-19 pandemic had a significant impact on both the country's education system and on people's mental well-being, further reinforcing the fact that data in recent times could be very different from data in the past. 

Adding onto this, it should also be noted that the tests themselves has changed over time. For example, the format of the SAT was recently changed as recently as 2016 [[https://www.princetonreview.com/college/sat-changes]]. If data is analyzed at different times, changes in the tests that are being examined could have an impact on the overall trends we see.

Finally, it should be noted that not all high schoolers are included in the standardized test score's data. Both the SAT and the ACT data sources include a column describing what proportion of high schoolers were actually surveyed - for several states, this proportion is less than 10%!  Whatever conclusions apply to the specific set of high schoolers that the data was collected on might not apply to high schoolers as a whole. 

```{r}
#| label: putting the data together
data <- test_scores[4:54, 1:3]
data[, 4] <- sad_percent[5:55, 2]
colnames(data)[4] <- "Sadness"

data
```

```{r}
data_removed <- data[-c(2,3,5,24, 38, 48, 51), ]

data_removed
```

```{r}
#| label: Plotting the SAT vs sadness

plot(data_removed$SAT, data_removed$Sadness, xlab = "SAT Average", ylab = "% Sadness")
abline(a = 50.066, b = -0.0089, col = "blue")
```

The linear model does give a negative slope (-0.0089), agreeing with my initial hypothesis about a negative correlation. However, the p-value is quite high (0.21), and a visual look at the graph shows data that is *very* spread out and apparently uncorrelated. 

The graph *does* visually demonstrate two extreme outliers mostly separate with the rest of the group within the context of comparing these two variables, as two data points possess middling SAT scores but very low sadness response percentages. These data points correspond to Vermont and New York. Removing them has a significant effect on the linear model:

```{r}
#| label: SAT vs. % sad or hopeless linear, extreme outliers removed
 
data_removed2 <- data_removed[-c(29, 41),]

SAT_linear2 <- lm(Sadness ~ SAT, data = data_removed2)
summary(SAT_linear2)
```

```{r}
#|label: plotting the SAT vs. sad pt. 2

plot(data_removed2$SAT, data_removed2$Sadness, xlab = "SAT Average", ylab = "% Sadness")
abline(a = 52.302, b = -0.0105, col = "blue")
```

Without Vermont and New York, the linear model suddenly becomes much improved, with the p-value decreasing to 0.09. However, this is still not at a level where the null hypothesis can be rejected: even after removing the variables, we cannot conclude that the two variables are related linearly. 

Next, I will examine for a relationship between ACT scores and the proportion of students who responded that they were sad. Once again, I will check for a linear relationship. 

Next, I will examine for a relationship between ACT scores and the proportion of students who responded that they were sad. Once again, I will check for a linear relationship. 

```{r}
#| label: ACT vs. % sad or hopeless, linear

ACT_linear <- lm(Sadness ~ ACT, data = data_removed)
summary(ACT_linear)
anova(ACT_linear)
```

```{r}
#| label: plotting the ACT vs. sad

plot(data_removed$ACT, data_removed$Sadness, xlab = "ACT Average", ylab = "% Sadness")
abline(a = 46.172, b = -0.3428, col = "blue")
```

Once again, the data appears to be vaguely learning towards a negative correlation (the ACT variable's slope estimate is -0.34). However, the p-value is once again too large, at 0.108 (which is in fact quite close to the p-value obtained from the SAT linear test after removing its most extreme outliers). Once again, it cannot be concluded that there is a linear relationship between ACT scores and the mental health of students. 

The next step I would take in the process of analyzing this data would be attempting to use more complex regression methods (i.e. polynomial, spline, etc.). The fact that a negative slope was found in both linear models does give me some hope that my initial hypothesis is correct. However, looking at the scatterplots and seeing just how spread out the data points are leads me to believe that there isn't much of a correlation happening at all - or at least, it leads me to believe that the sets of data I am currently using will not reveal a correlation. 